---
title: Vercel AI SDK Integration
description: Build AI applications with Vercel AI SDK and Civic Labs
---

## Overview

Since Civic's MCP Hub is just an MCP server, it is easy to add it into an agent.

Here is an example using [Civic Auth](https://civic.com/auth) and the [Vercel AI SDK](https://vercel.com/docs/ai):

## Getting Started

<Steps>
    <Step title="Install Civic Auth and the Vercel AI SDK">
        ```bash
        npm install @civic/auth ai @ai-sdk/anthropic
        ```
    </Step>
    <Step title="Set up Civic Auth">
        Follow the instructions at [Civic Auth Docs](https://docs.civic.com/auth) or direct your LLM to them.
    </Step>
    <Step title="Set up Vercel AI">
        Try this code snippet as an example:

        ```ts
        import { streamText } from 'ai';
        import { createAnthropic } from '@ai-sdk/anthropic';

        const tools = await getTools(); // We'll add this next

        const result = streamText({
          model: anthropicProvider("claude-3-7-sonnet-20250219"),
          prompt: "What can I do with my Civic account?",
          system: "You are a helpful AI assistant",
          tools
        });
        ```
    </Step>
    <Step title="Add the MCP Hub as a tool">
        Use the following code to connect to the MCP Hub:

        ```ts
        import { experimental_createMCPClient as createMCPClient } from 'ai';

        // See our docs for non-nextjs options
        import { getTokens } from "@civic/auth/nextjs";

        function getTools() {
          // Assuming the user is logged in, get their access token
          const { accessToken } = await getTokens();

          const transport = new StreamableHTTPClientTransport(
            new URL("https://ai.civic.com/hub/mcp"),
            {
              requestInit: {
                headers: {
                  'Authorization': `Bearer ${accessToken}`
                }
              }
            }
          );

          const clientConfig = {
            transport
          }

          const client = await createMCPClient(clientConfig);
          return client.getTools();
        }
        ```
    </Step>
</Steps>

## Complete Example

```ts
import { experimental_createMCPClient as createMCPClient } from 'ai';

const transport = new StreamableHTTPClientTransport(
  new URL("https://ai.civic.com/hub/mcp"),
  {
    requestInit: {
      headers: {
        'Authorization': `Bearer ${idToken ?? process.env.MCP_API_KEY!}`
      }
    }
  }
);

const clientConfig = {
  transport
}

return createMCPClient(clientConfig);
```

[Contact us](/labs/feedback) for more integration examples and support.