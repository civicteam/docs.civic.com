---
title: "Authentication Flows"
description: "Understanding Civic Auth's flexible OAuth 2.0 authentication methods for maximum security across all application types."
icon: "arrows-rotate"
public: true
---

Civic Auth supports multiple OAuth 2.0 authentication methods to provide maximum security across different application architectures and use cases.

## Authentication Methods

<Tabs>
  <Tab title="PKCE Only">
    **Best for:** Public clients (SPAs, mobile apps) where secrets cannot be securely stored.

    ### How it Works
    - Uses Proof Key for Code Exchange (PKCE) for security
    - Default method for public clients
    - Code verifier/challenge mechanism provides security
    - No client secret required or used

    ### Security Benefits
    - ✅ No sensitive credentials to manage client-side
    - ✅ Dynamic verification for each authentication request
    - ✅ Industry standard for public clients
    - ✅ Prevents authorization code interception attacks

    ### Configuration
    ```javascript
    const config = {
      clientId: "your_client_id",
      // PKCE enabled by default, no client secret needed
      redirectUrl: "https://yourapp.com/callback"
    }
    ```
  </Tab>

  <Tab title="Client Secret Only">
    **Best for:** Traditional server-side applications requiring OAuth 2.0 compatibility.

    ### How it Works
    - Uses traditional OAuth 2.0 authorization code flow
    - Client authenticates using client secret
    - PKCE disabled for compatibility with legacy systems
    - Suitable for confidential clients with secure storage

    ### Security Benefits
    - ✅ Familiar OAuth 2.0 authentication pattern
    - ✅ Client authentication via shared secret
    - ✅ Compatible with existing OAuth infrastructure
    - ✅ Server-side credential protection

    ### Configuration
    ```javascript
    const config = {
      clientId: "your_client_id",
      clientSecret: "your_client_secret",
      pkce: false, // Disable PKCE for traditional OAuth flow
      redirectUrl: "https://yourapp.com/callback"
    }
    ```
  </Tab>

  <Tab title="PKCE + Client Secret">
    **Best for:** Maximum security for confidential clients that can support both methods.

    ### How it Works
    - Combines PKCE with client secret authentication
    - Provides maximum security through dual verification
    - Suitable for high-security server-side applications
    - Both PKCE challenge and client secret verified

    ### Security Benefits
    - ✅ **Maximum security** through dual authentication
    - ✅ Protection against authorization code interception
    - ✅ Client authentication via secret
    - ✅ Dynamic PKCE verification per request

    ### Configuration
    ```javascript
    const config = {
      clientId: "your_client_id",
      clientSecret: "your_client_secret",
      pkce: true, // Enable PKCE alongside client secret
      redirectUrl: "https://yourapp.com/callback"
    }
    ```
  </Tab>
</Tabs>

## When to Use Each Method

<CardGroup cols={3}>
  <Card title="PKCE Only" icon="browser">
    - Single-page applications (SPAs)
    - Mobile applications
    - Frontend applications (React, Vue, Angular)
    - When client secrets cannot be securely stored
    - Default for public clients
  </Card>
  <Card title="Client Secret Only" icon="server">
    - Legacy OAuth 2.0 integrations
    - Traditional server-side applications
    - When PKCE is not supported
    - Simple backend services
    - Existing OAuth infrastructure
  </Card>
  <Card title="PKCE + Client Secret" icon="shield">
    - **High-security server applications**
    - Financial or healthcare systems
    - Enterprise backend services
    - **Maximum security requirements**
    - Modern confidential clients
  </Card>
</CardGroup>

## Getting Client Secrets

Client secrets are available as an opt-in feature for confidential clients requiring enhanced authentication security.

<Steps>
  <Step title="Access Customer Dashboard">
    Log in to your [Civic Auth Dashboard](https://auth.civic.com/dashboard) to manage your application settings.
  </Step>
  <Step title="Generate Client Secret">
    Navigate to your application settings and generate a client secret. **The secret is shown only once** during generation.
  </Step>
  <Step title="Secure Storage">
    Store your client secret securely using environment variables or secure secret management systems. Secrets are hashed after creation and stored in hashed form for security.
  </Step>
</Steps>

<Warning>
**Security Requirements**: Client secrets must be stored securely and never exposed in client-side code. They are suitable only for server-side applications with secure credential storage.
</Warning>

<Info>
**Flexible Security**: Choose the authentication method that best fits your application architecture. Use PKCE-only for public clients, client secrets for traditional OAuth compatibility, or both together for maximum security.
</Info>

## Security Considerations

<AccordionGroup>
  <Accordion title="PKCE Security Model">
    - **No secrets to compromise:** Even if your frontend code is inspected, there are no sensitive credentials
    - **Dynamic verification:** Each authentication request uses a unique code verifier/challenge pair
    - **Domain validation:** Production apps require domain registration for additional security
    - **Industry standard:** Recommended by OAuth 2.0 Security Best Practices
  </Accordion>

  <Accordion title="Client Secret Security Model">
    - **Secure storage required:** Client secrets must be stored securely and never exposed to client-side code
    - **Server-side only:** Authentication logic must run on your backend servers
    - **Environment variables:** Use environment variables or secure secret management systems
    - **HTTPS required:** Always use HTTPS in production to protect credentials in transit
  </Accordion>
</AccordionGroup>

## Implementation Examples

The Civic Auth SDK supports all authentication methods with the same API:

<CodeGroup>
```javascript PKCE Only (Default)
import { CivicAuth } from '@civic/auth/server';

const config = {
  clientId: process.env.CLIENT_ID,
  redirectUrl: 'https://yourapp.com/callback'
  // PKCE enabled by default, no client secret
};

const civicAuth = new CivicAuth(storage, config);
```

```javascript Client Secret Only
import { CivicAuth } from '@civic/auth/server';

const config = {
  clientId: process.env.CLIENT_ID,
  clientSecret: process.env.CLIENT_SECRET,
  pkce: false, // Disable PKCE for traditional OAuth
  redirectUrl: 'https://yourapp.com/callback'
};

const civicAuth = new CivicAuth(storage, config);
```

```javascript PKCE + Client Secret (Maximum Security)
import { CivicAuth } from '@civic/auth/server';

const config = {
  clientId: process.env.CLIENT_ID,
  clientSecret: process.env.CLIENT_SECRET,
  pkce: true, // Enable both PKCE and client secret
  redirectUrl: 'https://yourapp.com/callback'
};

const civicAuth = new CivicAuth(storage, config);
```
</CodeGroup>

<Note>
For detailed implementation examples with specific frameworks, see our [integration guides](/integration). All guides show the PKCE-only approach by default, but the same patterns apply when using client secrets or the hybrid PKCE + client secret approach with the configurations above.
</Note>